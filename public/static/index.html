<!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.3/lib/p5.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ml5js/Intro-ML-Arts-IMA@ml5-build-10-7-19/ml5_build/ml5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>
    <script src="https://cdn.socket.io/4.3.2/socket.io.min.js"></script>
    <meta charset="utf-8"/>
    <script src="./static/utils.js"></script>
</head>
  <style>
      @font-face {
    font-family: 'Datafont';
    src: url('datafont.ttf') format('truetype');
}
        div {
            font-family: 'Datafont', sans-serif;
            font-size: 24px;
            color: #1E6BFF;
        }

  </style>

<body style="margin:0">
<script>
    (async function () {
        try {
            const response = await fetch('https://oronp2912.pythonanywhere.com/get_presentation_data');
            const data = await response.json();
            let name = data.name;

            var currentDatetime = new Date();

            var day = currentDatetime.getDate();
            var dayName = new Intl.DateTimeFormat('he-IL', {weekday: 'long'}).format(currentDatetime);
            var year = currentDatetime.getFullYear();
            var monthName = new Intl.DateTimeFormat('he-IL', {month: 'long'}).format(currentDatetime);
            var formattedDate = year + " " + day + " " + "×‘" + monthName;

            var currentTime = currentDatetime.toLocaleTimeString([],{hour: '2-digit',minute: '2-digit',hour12: false});

            document.getElementById('name').textContent = name + " | " + currentTime;
            document.getElementById('date').textContent = formattedDate + " | " + dayName;
        } catch (error) {
            console.error('There was a problem with the fetch operation:', error);
        }
    })();
</script>
<div id="name" style="position:absolute;bottom:5em;left:4em"></div>
<div id="date" style="position:absolute;bottom:3.5em;left:4em"></div>
<script src="main_visual.js"></script>

</body>

</html>